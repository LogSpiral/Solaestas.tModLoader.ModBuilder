<Project>
	<Import Condition="Exists('$(MSBuildProjectDirectory)/../../tModLoader.targets') And $(tMLPath) == ''"
			Project="$(MSBuildProjectDirectory)/../../tModLoader.targets" />
	<Import Condition="Exists('$(MSBuildProjectDirectory)/../../../tModLoader.targets') And $(tMLPath) == ''"
			Project="$(MSBuildProjectDirectory)/../../../tModLoader.targets" />
	<Import Condition="Exists('$(MSBuildProjectDirectory)../../../../tModLoader.targets') And $(tMLPath) == ''"
			Project="$(MSBuildProjectDirectory)/../../../../tModLoader.targets" />

	<PropertyGroup>
		<!--消除警告-->
		<ResolveAssemblyWarnOrErrorOnTargetArchitectureMismatch>None</ResolveAssemblyWarnOrErrorOnTargetArchitectureMismatch>
		<NoWarn>$(NoWarn);CS0436</NoWarn>
		<!--复制包里面的程序集到输出目录-->
		<CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
		<!--相关路径-->
		<Solaestas-ConfigPath>$(BaseIntermediateOutputPath)BuildConfig.json</Solaestas-ConfigPath>
		<Solaestas-TaskPath>$(MSBuildThisFileDirectory)Solaestas.tModLoader.ModBuilder.dll</Solaestas-TaskPath>
		<Solaestas-ShaderBuilderDirectory>$(MSBuildThisFileDirectory)../tools/</Solaestas-ShaderBuilderDirectory>
		<!--附加功能开关-->
		<Solaestas-UseAssetPath Condition="'$(Solaestas-UseAssetPath)' == ''">true</Solaestas-UseAssetPath>
		<Solaestas-UseMinimalMod Condition="'$(Solaestas-UseMinimalMod)' == ''">false</Solaestas-UseMinimalMod>
		<!--附加功能配置-->
		<Solaestas-WhitelistMod Condition="'$(Solaestas-WhitelistMod)' == ''">herosmod;cheatsheet;dragonlen</Solaestas-WhitelistMod>
		<Solaestas-BuildIgnore Condition="'$(Solaestas-BuildIgnore)' == ''">true</Solaestas-BuildIgnore>
		<!--是否启用-->
		<EnableModBuilder Condition="$(OutputType) == 'Library'">true</EnableModBuilder>
	</PropertyGroup>

	<ItemGroup>
		<!--Shader代码-->
		<ModEffect Include="**/*.fx"
				   Exclude="bin/**/*;obj/**/*" />
		<!--资源文件-->
		<ModResource Include="**/*.hjson;**/*.txt;**/*.ogg;**/*.wav;**/*.mp3;"
					 Exclude="bin/**/*;obj/**/*" />
		<!--Mod信息-->
		<ModInfo Condition="Exists('build.txt')"
				 Include="build.txt" />
		<ModInfo Condition="Exists('description.txt')"
				 Include="description.txt" />
		<!--默认Publicizer-->
		<Publicize Include="tModLoader;FNA" />
	</ItemGroup>

	<ItemGroup Condition="$(Solaestas-UseAssetPath)">
		<!--VS会显示Visible为false的文件的所在文件夹，加一个Link修改显示位置-->
		<Compile Include="$(BaseIntermediateOutputPath)ModAsset.g.cs"
				 Visible="false"
				 AutoGen="true"
				 Link="%(Filename)%(Extension)" />
	</ItemGroup>
</Project>